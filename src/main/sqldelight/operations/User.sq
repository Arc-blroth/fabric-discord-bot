select {
    SELECT user.*, role.* FROM user
    INNER JOIN user_role ON user.id = user_role.user
    INNER JOIN role ON role.id = user_role.role
    WHERE user.id = :id;
}

selectAll {
    SELECT user.*, role.* FROM user
    INNER JOIN user_role ON user.id = user_role.user
    INNER JOIN role ON role.id = user_role.role;
}

upsert {
    UPDATE user
    SET avatarUrl = :avatarUrl,
        discriminator = :discriminator,
        present = :present,
        username = :username
    WHERE id = :id;

    INSERT OR IGNORE INTO user(id, avatarUrl, discriminator, present, username)
        VALUES (:id, :avatarUrl, :discriminator, :present, :username);
}

delete {
    DELETE FROM user_role WHERE user = :id;
    DELETE FROM user WHERE id = :id;
}
